<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Elamkulam Local Weather Observation & Information Centre</title>

<style>
  body {
    margin: 0;
    height: 100vh;
    background: #eef2f6;
    font-family: "Segoe UI", Arial, sans-serif;
    overflow: hidden;
  }

  .stage {
    position: relative;
    width: 100%;
    height: 100%;
  }

  .logo {
    position: absolute;
    top: 28%;
    width: 130px;
    opacity: 0;
  }

  .logo.main {
    left: -200px;
    animation: slideInLeft 1.6s ease forwards,
               orbit 3s linear infinite 2s;
  }

  .logo.map {
    right: -200px;
    animation: slideInRight 1.6s ease forwards 0.4s,
               orbitReverse 3s linear infinite 2s;
  }

  @keyframes slideInLeft {
    to { left: 38%; opacity: 1; }
  }

  @keyframes slideInRight {
    to { right: 38%; opacity: 1; }
  }

  @keyframes orbit {
    from { transform: rotate(0deg) translateX(10px) rotate(0deg); }
    to   { transform: rotate(360deg) translateX(10px) rotate(-360deg); }
  }

  @keyframes orbitReverse {
    from { transform: rotate(0deg) translateX(-10px) rotate(0deg); }
    to   { transform: rotate(-360deg) translateX(-10px) rotate(360deg); }
  }

  .content {
    position: absolute;
    top: 55%;
    width: 100%;
    text-align: center;
    opacity: 0;
    animation: fadeUp 1.2s ease forwards 1.8s;
  }

  @keyframes fadeUp {
    to { opacity: 1; transform: translateY(-8px); }
  }

  h1 {
    font-size: 1.6em;
    margin-bottom: 8px;
    color: #1b2a3a;
  }

  .ml {
    font-size: 1.05em;
    color: #2c4d6b;
    margin-bottom: 6px;
  }

  .desc {
    font-size: 0.95em;
  }

  .disclaimer {
    margin-top: 12px;
    font-size: 0.82em;
    color: #555;
  }

  .skip {
    position: absolute;
    top: 18px;
    right: 18px;
  }

  .skip button {
    border: 1px solid #2c4d6b;
    background: transparent;
    padding: 6px 14px;
    cursor: pointer;
    border-radius: 4px;
    color: #2c4d6b;
  }

  .skip button:hover {
    background: #2c4d6b;
    color: white;
  }

  .progress {
    position: absolute;
    bottom: 0;
    left: 0;
    height: 4px;
    background: #2c4d6b;
    width: 0;
    animation: load 5s linear forwards;
  }

  @keyframes load {
    to { width: 100%; }
  }
</style>
</head>

<body>
<audio id="introAudio" src="welcome.wav"></audio>
<div class="stage">

  <img src="ELWOIC.png" class="logo main" alt="ELWOIC Logo">
  <img src="Elamkulam Weather Logo Design.1.png" class="logo map" alt="Elamkulam Map Logo">

  <div class="content">
    <h1>Elamkulam Local Weather Observation & Information Centre</h1>
    <div class="ml">
      ‡¥è‡¥≤‡¥Ç‡¥ï‡µÅ‡¥≥‡¥Ç ‡¥∏‡¥Æ‡µÇ‡¥π‡¥§‡µç‡¥§‡¥ø‡¥®‡µç ‚Äî ‡¥í‡¥∞‡µÅ ‡¥µ‡¥ø‡¥¶‡µç‡¥Ø‡¥æ‡µº‡¥§‡µç‡¥•‡¥ø‡¥Ø‡µÅ‡¥ü‡µÜ ‡¥∏‡¥Æ‡µº‡¥™‡µç‡¥™‡¥£‡¥Ç.
    </div>
    <div class="desc">
      Powered by <strong>ELWOIC</strong> ¬∑ A community weather initiative by a student<br>
      Elamkulam, Malappuram, Kerala
    </div>
    <div class="disclaimer">
      This is a student-made project for educational and informational purposes only.
    </div>
    <div style="margin-top:6px;">
      Created by <strong>Aswanth Krishna K</strong>
    </div>
  </div>

  <div class="skip">
    <button onclick="go()">Skip Intro ‚Üí</button>
  </div>

  <div class="progress"></div>

</div>

<script>
  const url =
    "https://elwoic.github.io/elamkulam-local-weather-observation-and-information-centre/";

  const TOTAL_TIME = 5000; // 5 seconds
  let elapsed = 0;
  let lastTime = null;
  let paused = false;

  const stage = document.querySelector(".stage");
  const progress = document.querySelector(".progress");

  function update(timestamp) {
    if (!lastTime) lastTime = timestamp;
    if (!paused) {
      elapsed += timestamp - lastTime;
      const percent = Math.min(elapsed / TOTAL_TIME, 1);
      progress.style.width = (percent * 100) + "%";

      if (elapsed >= TOTAL_TIME) {
        window.location.href = url;
        return;
      }
    }
    lastTime = timestamp;
    requestAnimationFrame(update);
  }

  requestAnimationFrame(update);

  function pauseIntro() {
    paused = true;
    stage.classList.add("paused");
  }

  function resumeIntro() {
    paused = false;
    stage.classList.remove("paused");
  }

  // üì± Mobile: press & hold
  document.addEventListener("touchstart", pauseIntro);
  document.addEventListener("touchend", resumeIntro);

  // üíª Desktop: mouse click & hold
  document.addEventListener("mousedown", pauseIntro);
  document.addEventListener("mouseup", resumeIntro);

  function go() {
    window.location.href = url;
  }
  const audio = document.getElementById("introAudio");

// Start audio when the script runs
// Note: Browsers often require a user click to play audio automatically.
// Since you have a "touch/click to pause" feature, it will likely trigger here.
window.addEventListener('load', () => {
    audio.play().catch(e => console.log("Audio needs user interaction to start"));
});

// Update your existing pause/resume functions to affect the audio too
function pauseIntro() {
    paused = true;
    stage.classList.add("paused");
    audio.pause(); // Added this
}

function resumeIntro() {
    paused = false;
    stage.classList.remove("paused");
    audio.play(); // Added this
}
</script>


</body>
</html>
